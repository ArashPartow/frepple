/* frePPLe 4.0.0
Copyright (C) 2010-2019 by frePPLe bv

This library is free software; you can redistribute it and/or modify it
under the terms of the GNU Affero General Public License as published
by the Free Software Foundation; either version 3 of the License, or
(at your option) any later version.

This library is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero
General Public License for more details.

You should have received a copy of the GNU Affero General Public
License along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";var operationplandetailapp=angular.module("operationplandetailapp",["ngCookies","gettext","ngWebSocket","frepple.input","frepple.common"],["$locationProvider",function(t){t.html5Mode({enabled:!0,requireBase:!1})}]);function operationplanCtrl(t,a){t.test="angular controller",t.operationplan=new a,t.aggregatedopplan=null,t.displayongrid=displayongrid,"function"==typeof t.displayongrid&&t.$watchGroup(["operationplan.id","operationplan.start","operationplan.end","operationplan.quantity","operationplan.status"],function(a,e){e[0]===a[0]&&-1!==a[0]&&void 0!==e[0]&&(void 0!==e[1]&&void 0!==a[1]&&e[1]!==a[1]&&t.displayongrid(t.operationplan.id,"startdate",t.operationplan.start),void 0!==e[2]&&void 0!==a[2]&&e[2]!==a[2]&&t.displayongrid(t.operationplan.id,"enddate",t.operationplan.end),void 0!==e[3]&&void 0!==a[3]&&e[3]!==a[3]&&t.displayongrid(t.operationplan.id,"quantity",t.operationplan.quantity),void 0!==e[4]&&void 0!==a[4]&&e[4]!==a[4]&&(actions.hasOwnProperty(t.operationplan.status)?t.displayongrid(t.operationplan.id,"status",t.operationplan.status):actions[Object.keys(actions)[0]]())),e[0]=a[0]}),t.processAggregatedInfo=function(e,n){var r=[],o={colmodel:{}},i=0;angular.forEach(n,function(t,a){t.hasOwnProperty("summaryType")&&(r.push([a,t.name,t.summaryType,t.formatter]),o[t.name]=null,o.colmodel[t.name]={type:t.summaryType,label:t.label})}),angular.forEach(e,function(t){angular.forEach(r,function(a){"sum"===a[2]?isNaN(parseFloat(t[a[1]]))||(null===o[a[1]]?o[a[1]]=parseFloat(t[a[1]]):o[a[1]]+=parseFloat(t[a[1]])):"max"===a[2]?-1!==["color","number","currency"].indexOf(a[3])&&""!==t[a[1]]?parseFloat(t[a[1]])&&(null===o[a[1]]?o[a[1]]=parseFloat(t[a[1]]):o[a[1]]=Math.max(o[a[1]],parseFloat(t[a[1]]))):"duration"===a[3]?"Invalid Date"!==(i=new moment.duration(t[a[1]]).asSeconds())._d&&(null===o[a[1]]?o[a[1]]=i:o[a[1]]=Math.max(o[a[1]],i)):"date"===a[3]&&"Invalid Date"!==(i=new moment(t[a[1]]))._d&&(null===o[a[1]]?o[a[1]]=i:o[a[1]]=moment.max(o[a[1]],i)):"min"===a[2]&&(-1!==["color","number"].indexOf(a[3])&&""!==t[a[1]]?(i=parseFloat(t[a[1]]),isNaN(i)||(null===o[a[1]]?o[a[1]]=i:o[a[1]]=Math.min(o[a[1]],i))):"duration"===a[3]?"Invalid Date"!==(i=new moment.duration(t[a[1]]).asSeconds())._d&&(null===o[a[1]]?o[a[1]]=i:o[a[1]]=Math.min(o[a[1]],i)):"date"===a[3]&&"Invalid Date"!==(i=new moment(t[a[1]]))._d&&(null===o[a[1]]?o[a[1]]=i:o[a[1]]=moment.min(o[a[1]],i)))})}),t.operationplan=new a,o.start=o.startdate,o.end=o.enddate,o.id=-1,o.type=e[0].type,t.$apply(function(){t.operationplan.extend(o)})},t.displayInfo=function(e){var n=void 0;void 0!==e&&(n=e.hasOwnProperty("operationplan__reference")?e.operationplan__reference:e.reference),t.operationplan=new a,t.operationplan.id=n,void 0===t.operationplan.id?t.$apply(function(){t.operationplan=new a}):t.operationplan.get(function(t){if(void 0===e)return t;void 0!==e.operationplan__startdate&&""!==e.operationplan__startdate?t.start=e.operationplan__startdate:void 0!==e.startdate&&""!==e.startdate&&(t.start=e.startdate),void 0!==e.operationplan__enddate&&""!==e.operationplan__enddate?t.end=e.operationplan__enddate:void 0!==e.enddate&&""!==e.enddate&&(t.end=e.enddate),void 0!==e.operationplan__quantity&&""!==e.operationplan__quantity?t.quantity=parseFloat(e.operationplan__quantity):void 0!==e.quantity&&""!==e.quantity&&(t.quantity=parseFloat(e.quantity)),void 0!==e.operationplan__status&&""!==e.operationplan__status?t.status=e.operationplan__status:void 0!==e.status&&""!==e.status&&(t.status=e.status)})},t.refreshstatus=function(a){"no_action"!==a&&t.$apply(function(){t.operationplan.status=a})},t.displayonpanel=function(a,e,n){angular.element(document).find("#"+t.operationplan.id).removeClass("edited").addClass("edited"),void 0!==t.operationplan.id&&a===t.operationplan.id.toString()&&("startdate"!==e&&"operationplan__startdate"!==e||t.$apply(function(){t.operationplan.start=n}),"enddate"!==e&&"operationplan__enddate"!==e||t.$apply(function(){t.operationplan.end=n}),"quantity"===e&&t.$apply(function(){t.operationplan.quantity=parseFloat(n)}),"status"===e&&t.refreshstatus(n))}}function showproblemspanelDrv(t,a){return{restrict:"EA",scope:{operationplan:"=data"},link:function(t,e,n){var r='<div class="panel-heading"><h4 class="panel-title" style="text-transform: capitalize">'+a.getString("problems")+'</h4></div><table class="table table-condensed table-hover"><thead><tr><td><b style="text-transform: capitalize;">'+a.getString("name")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("start")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("end")+"</b></td></tr></thead><tbody></tbody></table>";t.$watchGroup(["operationplan.id","operationplan.problems.length"],function(e,n){angular.element(document).find("#attributes-operationproblems").empty().append(r);var o='<tr><td colspan="3">'+a.getString("no problems")+"</td></tr>";void 0!==t.operationplan&&t.operationplan.hasOwnProperty("problems")&&(o="",angular.forEach(t.operationplan.problems,function(t){o+="<tr><td>"+t.description+"</td><td>"+t.start+"</td><td>"+t.end+"</td></tr>"})),angular.element(document).find("#attributes-operationproblems tbody").append(o)})}}}function showresourcespanelDrv(t,a){return{restrict:"EA",scope:{operationplan:"=data"},link:function(t,e,n){var r='<div class="panel-heading"><h4 class="panel-title" style="text-transform: capitalize">'+a.getString("resource")+'</h4></div><table class="table table-condensed table-hover"><thead><tr><td><b style="text-transform: capitalize;">'+a.getString("name")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("quantity")+"</b></td><tbody></tbody></table>";t.$watchGroup(["operationplan.id","operationplan.loadplans.length"],function e(){angular.element(document).find("#attributes-operationresources").empty().append(r);var n='<tr><td colspan="2">'+a.getString("no resources")+"</td></tr>";void 0!==t.operationplan&&t.operationplan.hasOwnProperty("loadplans")&&(n="",angular.forEach(t.operationplan.loadplans,function(t){t.hasOwnProperty("alternates")?(n+='<tr><td style="white-space: nowrap;"><div class="dropdown dropdown-submit-input"><button class="btn btn-default" data-toggle="dropdown" type="button" style="text-transform: capitalize; min-width: 150px">'+$.jgrid.htmlEncode(t.resource.name)+'</button><ul class="dropdown-menu"><li><a role="menuitem" class="alternateresource" style="text-transform: capitalize">'+$.jgrid.htmlEncode(t.resource.name)+"</a></li>",angular.forEach(t.alternates,function(t){n+='<li><a role="menuitem" class="alternateresource" style="text-transform: capitalize">'+$.jgrid.htmlEncode(t.name)+"</a></li>"}),n+="</ul></td><td>"+grid.formatNumber(t.quantity)+"</td></tr>"):n+="<tr><td>"+$.jgrid.htmlEncode(t.resource.name)+'<a href="'+url_prefix+"/detail/input/resource/"+admin_escape(t.resource.name)+"/\" onclick='event.stopPropagation()'><span class='leftpadding fa fa-caret-right'></span></a></td><td>"+grid.formatNumber(t.quantity)+"</td></tr>"}));angular.element(document).find("#attributes-operationresources tbody").append(n);angular.element(document).find("#attributes-operationresources a.alternateresource").bind("click",function(){var a=$(this).html(),n=$(this).parent().parent().prev().html();a!=n&&angular.forEach(t.operationplan.loadplans,function(r){if(r.resource.name==n){r.resource.name=a,angular.forEach(r.alternates,function(t){t.name===a&&(t.name=n)}),e();var o=angular.element(document).find("#grid"),i=o.jqGrid("getGridParam","selarrrow"),p=o.jqGrid("getGridParam","colModel").find(function(t){return"resource"==t.name}),l=o.jqGrid("getCell",i,"resource");if("detail"==p.formatter&&l==n)o.jqGrid("setCell",i,"resource",a,"dirty-cell"),o.jqGrid("setRowData",i,!1,"edited"),angular.element(document).find("#save").removeClass("btn-primary btn-danger").addClass("btn-danger").prop("disabled",!1),angular.element(document).find("#undo").removeClass("btn-primary btn-danger").addClass("btn-danger").prop("disabled",!1);else if("listdetail"==p.formatter){var d=[];angular.forEach(t.operationplan.loadplans,function(t){d.push([t.resource.name,t.quantity])}),o.jqGrid("setCell",i,"resource",d,"dirty-cell"),o.jqGrid("setRowData",i,!1,"edited"),angular.element(document).find("#save").removeClass("btn-primary btn-danger").addClass("btn-danger").prop("disabled",!1),angular.element(document).find("#undo").removeClass("btn-primary btn-danger").addClass("btn-danger").prop("disabled",!1)}return!1}})})})}}}function showbufferspanelDrv(t,a){return{restrict:"EA",scope:{operationplan:"=data"},link:function(t,e,n,r){var o='<div class="panel-heading"><h4 class="panel-title" style="text-transform: capitalize">'+a.getString("material")+'</h4></div><table class="table table-condensed table-hover"><thead style="display: none;"><tr><td><b style="text-transform: capitalize;">'+a.getString("item")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("location")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("quantity")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("expected onhand")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("date")+"</b></td></tr></thead><tbody></tbody></table>";t.$watchGroup(["operationplan.id","operationplan.flowplans.length"],function(e,n){angular.element(document).find("#attributes-operationflowplans").empty().append(o);var r='<tr><td colspan="3">'+a.getString("no movements")+"<td></tr>";void 0!==t.operationplan&&t.operationplan.hasOwnProperty("flowplans")&&(r="",angular.forEach(t.operationplan.flowplans,function(t){r+="<tr><td>"+$.jgrid.htmlEncode(t.buffer.item)+'<a href="'+url_prefix+"/detail/input/item/"+admin_escape(t.buffer.item)+"/\" onclick='event.stopPropagation()'><span class='leftpadding fa fa-caret-right'></span></a></td><td>"+$.jgrid.htmlEncode(t.buffer.location)+'<a href="'+url_prefix+"/detail/input/location/"+admin_escape(t.buffer.location)+"/\" onclick='event.stopPropagation()'><span class='leftpadding fa fa-caret-right'></span></a></td><td>"+grid.formatNumber(t.quantity)+"</td><td>"+grid.formatNumber(t.onhand)+"</td><td>"+t.date+"</td></tr>"}),angular.element(document).find("#attributes-operationflowplans thead").css("display","table-header-group")),angular.element(document).find("#attributes-operationflowplans tbody").append(r)})}}}function showoperationpeggingpanelDrv(t,a){return{restrict:"EA",scope:{operationplan:"=data"},link:function(t,e,n,r){var o='<div class="panel-heading"><h4 class="panel-title" style="text-transform: capitalize">'+a.getString("demand")+'</h4></div><table class="table table-condensed table-hover"><thead><tr><td><b style="text-transform: capitalize;">'+a.getString("name")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("item")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("due")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("quantity")+"</b></td><tbody></tbody></table>";t.$watchGroup(["operationplan.id","operationplan.pegging_demand.length"],function(e,n){angular.element(document).find("#attributes-operationdemandpegging").empty().append(o);var r='<tr><td colspan="2">'+a.getString("no demands")+"</td></tr>";void 0!==t.operationplan&&t.operationplan.hasOwnProperty("pegging_demand")&&(r="",angular.forEach(t.operationplan.pegging_demand,function(t){r+="<tr><td>"+$.jgrid.htmlEncode(t.demand.name)+'<a href="'+url_prefix+(t.demand.forecast?"/detail/forecast/forecast/":"/detail/input/demand/")+admin_escape(t.demand.name)+"/\" onclick='event.stopPropagation()'><span class='leftpadding fa fa-caret-right'></span></a></td><td>"+$.jgrid.htmlEncode(t.demand.item.name)+'<a href="'+url_prefix+"/detail/input/item/"+admin_escape(t.demand.item.name)+"/\" onclick='event.stopPropagation()'><span class='leftpadding fa fa-caret-right'></span></a></td><td>"+t.demand.due+"</td><td>"+grid.formatNumber(t.quantity)+"</td></tr>"})),angular.element(document).find("#attributes-operationdemandpegging tbody").append(r)})}}}function showoperationplanDrv(t,a){return{restrict:"EA",scope:{operationplan:"=data"},templateUrl:"/static/operationplandetail/operationplanpanel.html",link:function(t,e,n){t.actions=actions,t.opptype={MO:a.getString("Manufacturing Order"),PO:a.getString("Purchase Order"),DO:a.getString("Distribution Order"),STCK:a.getString("Stock"),DLVR:a.getString("Delivery")},t.$watchGroup(["operationplan.id","operationplan.start","operationplan.end","operationplan.quantity","operationplan.criticality","operationplan.delay","operationplan.status"],function(a,n){-1==t.operationplan.id||"STCK"===t.operationplan.type?(angular.element(e).find("input").attr("disabled","disabled"),angular.element(e).find("#statusrow .btn").removeClass("active").attr("disabled","disabled")):void 0!==t.operationplan.id?(angular.element(e).find("input[disabled]").attr("disabled",!1),"undefined"!=typeof actions&&actions.hasOwnProperty("proposed")&&angular.element(e).find("button[disabled]").attr("disabled",!1),angular.element(e).find("#statusrow .btn").removeClass("active"),t.operationplan.hasOwnProperty("start")&&angular.element(e).find("#setStart").val(moment(t.operationplan.start).format("YYYY-MM-DD HH:mm:ss")),t.operationplan.hasOwnProperty("end")&&angular.element(e).find("#setEnd").val(moment(t.operationplan.end).format("YYYY-MM-DD HH:mm:ss")),t.operationplan.hasOwnProperty("status")&&(angular.element(e).find("#statusrow .btn").removeClass("active"),angular.element(e).find("#"+t.operationplan.status+"Btn").addClass("active"))):(angular.element(e).find("input").attr("disabled","disabled"),angular.element(e).find("#statusrow .btn").removeClass("active").attr("disabled","disabled"),angular.element(e).find("#setStart").val(""),angular.element(e).find("#setEnd").val("")),angular.element(e).find("#statusrow").css("display",t.operationplan.status&&"STCK"!==t.operationplan.type?"table-row":"none")}),angular.element(e).find(".vDateField").datetimepicker({format:"YYYY-MM-DD HH:mm:ss",useCurrent:!1,calendarWeeks:!0,minDate:"2000-01-01",inline:!1,sideBySide:!0,icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-chevron-up",down:"fa fa-chevron-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-bullseye",clear:"fa fa-trash",close:"fa fa-remove"},locale:language,widgetPositioning:{horizontal:"left",vertical:"bottom"}}).on("dp.change",function(a){a.oldDate&&a.date!=a.oldDate&&("setStart"===a.target.id&&t.$apply(function(){t.operationplan.start=new moment(a.date).format("YYYY-MM-DDTHH:mm:ss")}),"setEnd"===a.target.id&&t.$apply(function(){t.operationplan.end=new moment(a.date).format("YYYY-MM-DDTHH:mm:ss")}))}).on("$destroy",function(){void 0!==$(this).data("DateTimePicker")&&$(this).data("DateTimePicker").destroy()})}}}function showsupplyinformationDrv(t,a){return{restrict:"EA",scope:{operationplan:"=data"},link:function(t,e,n){var r='<div class="panel-heading"><h4 class="panel-title" style="text-transform: capitalize">'+a.getString("supply information")+'</h4></div><div class="table-responsive"><table class="table table-hover table-condensed"><thead><tr><td><b style="text-transform: capitalize;">'+a.getString("priority")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("types")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("origin")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("lead time")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("cost")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("size minimum")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("size multiple")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("effective start")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("effective end")+"</b></td></tr></thead><tbody></tbody></table></div>";t.$watchGroup(["operationplan.id","operationplan.attributes.supply.length"],function(e,n){angular.element(document).find("#attributes-supplyinformation").empty().append(r);var o='<tr><td colspan="9">'+a.getString("no supply information")+"</td></tr>";void 0!==t.operationplan&&t.operationplan.attributes.hasOwnProperty("supply")&&(o="",angular.forEach(t.operationplan.attributes.supply,function(t){for(var a in o+="<tr>",t)o+="<td>",o+=t[a],o+="</td>";o+="</tr>"})),angular.element(document).find("#attributes-supplyinformation tbody").append(o)})}}}function showdownstreamoperationplansDrv(t,a){return{restrict:"EA",scope:{operationplan:"=data"},templateUrl:"/static/operationplandetail/downstreamoperationplans.html",link:function(t,a,e){t.expandOrCollapse=function(a){var e=a+1,n=t.operationplan.downstreamoperationplans[a][0];0==t.operationplan.downstreamoperationplans[a][10]?t.operationplan.downstreamoperationplans[a][10]=1:t.operationplan.downstreamoperationplans[a][10]=0;for(;e<t.operationplan.downstreamoperationplans.length&&!(t.operationplan.downstreamoperationplans[e][0]<=n);)t.operationplan.downstreamoperationplans[e][0]>n+1||0==t.operationplan.downstreamoperationplans[a][10]?t.operationplan.downstreamoperationplans[e][10]=2:e==t.operationplan.downstreamoperationplans.length-1||t.operationplan.downstreamoperationplans[e][0]>=t.operationplan.downstreamoperationplans[e+1][0]?t.operationplan.downstreamoperationplans[e][10]=3:t.operationplan.downstreamoperationplans[e][0]==n+1&&1==t.operationplan.downstreamoperationplans[a][10]&&(t.operationplan.downstreamoperationplans[e][10]=0),++e},t.url_prefix=url_prefix}}}function showupstreamoperationplansDrv(t,a){return{restrict:"EA",scope:{operationplan:"=data"},templateUrl:"/static/operationplandetail/upstreamoperationplans.html",link:function(t,a,e){t.expandOrCollapse=function(a){var e=a+1,n=t.operationplan.upstreamoperationplans[a][0];0==t.operationplan.upstreamoperationplans[a][10]?t.operationplan.upstreamoperationplans[a][10]=1:t.operationplan.upstreamoperationplans[a][10]=0;for(;e<t.operationplan.upstreamoperationplans.length&&!(t.operationplan.upstreamoperationplans[e][0]<=n);)t.operationplan.upstreamoperationplans[e][0]>n+1||0==t.operationplan.upstreamoperationplans[a][10]?t.operationplan.upstreamoperationplans[e][10]=2:e==t.operationplan.upstreamoperationplans.length-1||t.operationplan.upstreamoperationplans[e][0]>=t.operationplan.upstreamoperationplans[e+1][0]?t.operationplan.upstreamoperationplans[e][10]=3:t.operationplan.upstreamoperationplans[e][0]==n+1&&1==t.operationplan.upstreamoperationplans[a][10]&&(t.operationplan.upstreamoperationplans[e][10]=0),++e},t.url_prefix=url_prefix}}}function shownetworkstatusDrv(t,a){return{restrict:"EA",scope:{operationplan:"=data"},link:function(t,e,n){var r='<div class="panel-heading"><h4 class="panel-title" style="text-transform: capitalize">'+a.getString("network status")+'</h4></div><table class="table table-condensed table-hover"><thead><tr><td><b style="text-transform: capitalize;">'+a.getString("item")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("location")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("onhand")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("purchase orders")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("distribution orders")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("manufacturing orders")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("overdue sales orders")+'</b></td><td><b style="text-transform: capitalize;">'+a.getString("sales orders")+"</b></td></tr></thead><tbody></tbody></table>";t.$watchGroup(["operationplan.id","operationplan.network.length"],function(e,n){angular.element(document).find("#attributes-networkstatus").empty().append(r);var o='<tr><td colspan="8">'+a.getString("no network information")+"</td></tr>";void 0!==t.operationplan&&t.operationplan.hasOwnProperty("network")&&(o="",angular.forEach(t.operationplan.network,function(t){o+="<tr><td>"+$.jgrid.htmlEncode(t[0])+'<a href="'+url_prefix+"/detail/input/item/"+admin_escape(t[0])+"/\" onclick='event.stopPropagation()'><span class='leftpadding fa fa-caret-right'></span></a>",!0===t[1]&&(o+="<small>"+a.getString("superseded")+"</small>"),o+="</td><td>"+$.jgrid.htmlEncode(t[2])+'<a href="'+url_prefix+"/detail/input/location/"+admin_escape(t[2])+"/\" onclick='event.stopPropagation()'><span class='leftpadding fa fa-caret-right'></span></a></td><td>"+grid.formatNumber(t[3])+"</td><td>"+grid.formatNumber(t[4])+"</td><td>"+grid.formatNumber(t[5])+"</td><td>"+grid.formatNumber(t[6])+"</td><td>"+grid.formatNumber(t[7])+"</td><td>"+grid.formatNumber(t[8])+"</td></tr>"})),angular.element(document).find("#attributes-networkstatus tbody").append(o)})}}}operationplandetailapp.config(["$httpProvider",function(t){t.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",t.defaults.xsrfCookieName="csrftoken",t.defaults.xsrfHeaderName="X-CSRFToken"}]),operationplandetailapp.run(["gettextCatalog",function(t){t.setCurrentLanguage(language)}]),operationplandetailapp.filter("formatdate",function(){return function(t){if(void 0!==t)return moment(Date.parse(t)).format("YYYY-MM-DD HH:mm:ss")}}),angular.module("operationplandetailapp").controller("operationplandetailCtrl",operationplanCtrl),operationplanCtrl.$inject=["$scope","OperationPlan"],angular.module("operationplandetailapp").directive("showproblemspanelDrv",showproblemspanelDrv),showproblemspanelDrv.$inject=["$window","gettextCatalog"],angular.module("operationplandetailapp").directive("showresourcespanelDrv",showresourcespanelDrv),showresourcespanelDrv.$inject=["$window","gettextCatalog"],angular.module("operationplandetailapp").directive("showbufferspanelDrv",showbufferspanelDrv),showbufferspanelDrv.$inject=["$window","gettextCatalog"],angular.module("operationplandetailapp").directive("showoperationpeggingpanelDrv",showoperationpeggingpanelDrv),showoperationpeggingpanelDrv.$inject=["$window","gettextCatalog"],angular.module("operationplandetailapp").directive("showoperationplanDrv",showoperationplanDrv),showoperationplanDrv.$inject=["$window","gettextCatalog"],angular.module("operationplandetailapp").directive("showsupplyinformationDrv",showsupplyinformationDrv),showsupplyinformationDrv.$inject=["$window","gettextCatalog"],angular.module("operationplandetailapp").directive("showdownstreamoperationplansDrv",showdownstreamoperationplansDrv),showdownstreamoperationplansDrv.$inject=["$window","gettextCatalog"],angular.module("operationplandetailapp").directive("showupstreamoperationplansDrv",showupstreamoperationplansDrv),showupstreamoperationplansDrv.$inject=["$window","gettextCatalog"],angular.module("operationplandetailapp").directive("shownetworkstatusDrv",shownetworkstatusDrv),shownetworkstatusDrv.$inject=["$window","gettextCatalog"];
//# sourceMappingURL=frepple-operationplandetail.min.js.map